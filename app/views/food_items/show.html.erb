<div class="row mb-3">
  <div class="col-md-8 offset-md-2">
    <h1>
      <%= @food_item.item_name %> details
    </h1>

    <div class="row mb-3">
      <div class="col">
        <a href="/food_items" class="btn btn-block btn-outline-secondary">
          Go back
        </a>
      </div>

      <div class="col">
        <a href="/delete_food_item/<%= @food_item.id %>" class="btn btn-block btn-outline-secondary">
          Delete food item
        </a>
      </div>
    </div>

    <dl>
      <dt>
        Food type
      </dt>
      <dd>
        <%= @food_item.food_type.capitalize %>
      </dd>

      <dt>
        Food Description
      </dt>
      <dd>
        <%= @food_item.description %>
      </dd>

      <dt>
        Expiration date
      </dt>
      <dd>
        <%= @food_item.expiration_date.strftime("%A, %B %e, %Y") %>
      </dd>

      <dt>
        3-day warning
      </dt>
      <dd>
        <%= @food_item.message1_sent %>
      </dd>

      <dt>
        1-day warning
      </dt>
      <dd>
        <%= @food_item.message2_sent %>
      </dd>

      <dt>
        Throw out?
      </dt>
      <dd>
        <%= @food_item.message3_sent %>
      </dd>
    </dl>
  </div>
</div>

<hr>


<div class="row mb-3">
  <div class="col-md-8 offset-md-2">
    <h2>
      Edit food item
    </h2>

    <form action="/modify_food_item/<%= @food_item.id %>"  method="post" >
      <div class="form-group">
        <label for="food_type_box">
          Food type
        </label>

        <select name="query_food_type" id="food_type_box" class="form-control">          
          <% if @food_item.food_type == "dairy" %>
            <option value="dairy" selected>Dairy</option>
          <% else %>
            <option value="dairy">Dairy</option>
          <% end %>

          <% if @food_item.food_type == "protein" %>
            <option value="protein" selected>Protein</option>
          <% else %>
            <option value="protein">Protein</option>
          <% end %>
          
          <% if @food_item.food_type == "produce" %>
            <option value="produce" selected>Produce</option>
          <% else %>
            <option value="produce">Produce</option>
          <% end %>

          <% if @food_item.food_type == "grains" %>
            <option value="grains" selected>Grains</option>
          <% else %>
            <option value="grains">Grains</option>
          <% end %>

          <% if @food_item.food_type == "other" %>
            <option value="other" selected>Other</option>
          <% else %>
            <option value="other">Other</option>
          <% end %>
        </select>
      </div>

      <div class="form-group">
        <label for="food_description_box">
          Food description
        </label>

        <textarea name="query_description" id="food_description_box" class="form-control"><%=@food_item.description%></textarea>
       </div>

      <div class="form-group">
        <label for="expiration_date_box">
          Expiration date
        </label>

        <input type="date" id="expiration_date_box" name="query_expiration_date" class="form-control" value="<%= @food_item.expiration_date %>">
      </div>

      <div class="custom-control custom-checkbox mb-3">
        <input type="checkbox" class="custom-control-input" id="message1_sent_box" name="query_message1_sent" value="1" <%= "checked" if @food_item.message1_sent %>>

        <label class="custom-control-label"
          for="message1_sent_box">Message1 sent</label>
      </div>

      <div class="custom-control custom-checkbox mb-3">
        <input type="checkbox" class="custom-control-input" id="message2_sent_box" name="query_message2_sent" value="1" <%= "checked" if @food_item.message2_sent %>>

        <label class="custom-control-label"
          for="message2_sent_box">Message2 sent</label>
      </div>

      <div class="custom-control custom-checkbox mb-3">
        <input type="checkbox" class="custom-control-input" id="message3_sent_box" name="query_message3_sent" value="1" <%= "checked" if @food_item.message3_sent %>>

        <label class="custom-control-label"
          for="message3_sent_box">Message3 sent</label>
      </div>

      <button class="btn btn-block btn-outline-secondary">
        Update food item
      </button>
    </form>
  </div>
</div>

<hr>
